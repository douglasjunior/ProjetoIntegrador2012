<div xmlns="http://www.w3.org/1999/xhtml"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:p="http://primefaces.org/ui"> 

    <p:panel>Conteudo</p:panel>

    <h:form prependId="false">
        <p:growl id="messages" showDetail="true" globalOnly="true" life="3000" />
        <h:panelGrid columns="2" cellpadding="5" columnClasses="col" rowClasses="breakRow" title="Informe as ações de contenção a serem executadas.">
            <h:panelGrid columns="2">                       
                <p:panel header="Criar nova ação"> 

                    <h:panelGrid columns="3" id="grid">  

                        <h:outputLabel value="Descrição da ação: " for="descricaoAcao"><span class="required">*</span></h:outputLabel>  
                        <p:inputText id="descricaoAcao"
                                     value="#{acaoContencaoBean.acao.descricao}" required="true" requiredMessage="Informe a descrição da ação."/>  
                        <p:message for="descricaoAcao"/>
                        <h:outputLabel value="Responsavel: " for="responsavelAcao"><span class="required">*</span></h:outputLabel>  
                        <p:selectOneMenu id="responsavelAcao" required="true" requiredMessage="Informe o responsável pela ação."
                                         value="#{acaoContencaoBean.acao.responsavel}" converter="#{usuarioBean.converter}">
                            <f:selectItem itemLabel="Selecione o usuário responsável" itemValue="" />  
                            <f:selectItems var="responsavelAcao" itemLabel="#{responsavelAcao.nome}" value="#{usuarioBean.todosUsuarios}"/>
                        </p:selectOneMenu>
                        <p:message for="responsavelAcao"/>
                        <h:outputLabel value="Prazo: " for="prazoAcao"><span class="required">*</span></h:outputLabel>  
                        <p:inputText id="prazoAcao"
                                     value="#{acaoContencaoBean.acao.prazo}" required="false" requiredMessage="Informe o prazo."/>  
                        <p:message for="prazoAcao"/>
                        <p:commandButton id="btn_add"  value="Add"  actionListener="#{acaoContencaoBean.add}" update="acoesTable messages" >  
                        </p:commandButton>  

                    </h:panelGrid>  
                </p:panel>

                <p:dataTable id="acoesTable" value="#{acaoContencaoBean.acoes}" var="acaoContencao">  
                    <p:column>  
                        <f:facet name="header">  
                            <h:outputText value="Descrição" />  
                        </f:facet>  
                        <h:outputText value="#{acaoContencao.descricao}" />  
                    </p:column>  

                    <p:column>
                        <f:facet name="header">  
                            <h:outputText value="Responsável" />  
                        </f:facet>  
                        <h:outputText value="#{acaoContencao.responsavel.nome}"/>
                    </p:column>  
                    <p:column>
                        <f:facet name="header">  
                            <h:outputText value="Prazo" />  
                        </f:facet>  
                        <h:outputText value="#{acaoContencao.prazo}" />  
                    </p:column>  
                    <p:column>
                        <f:facet name="header">  
                            <h:outputText value="Concluído" />  
                        </f:facet>  
                        <p:selectBooleanCheckbox value="#{acaoContencao.concluido}" />
                    </p:column>  

                    <p:column>  
                        <f:facet name="header">  
                            <h:outputText value="Opções" />  
                        </f:facet>  
                        <p:commandButton id="rmv" value="Excluir" update="@form" actionListener="#{acaoContencaoBean.remover(acaoContencao)}">  
                        </p:commandButton>  
                    </p:column>  

                </p:dataTable>  


            </h:panelGrid>
        </h:panelGrid>

    </h:form>
</div>